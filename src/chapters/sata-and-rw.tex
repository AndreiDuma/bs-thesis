\chapter{State of the Art and Related Work}
\label{chapter:sata-and-rw}

The cloud era has brought numerous advancements in areas such as multitenancy, resource sharing and application sandboxing. Virtualization provides a layer of abstraction that allows developers to build software that runs on any hardware platform. Hypervisors like VMware\footnote{VMware hypervisor, \url{vmware.com}}, VirtualBox\footnote{VirtualBox hypervisor, \url{virtualbox.org}} or QEMU\footnote{QEMU, hardware virtualization hypervisor, \url{qemu.org}} can run fully separated instances of operating systems on the same host. This makes it possible for multiple applications, potentially untrusted and from different vendors, to be executed simultaneously. Resource constraints (CPU, memory, network, hard-drive etc.) can be enforced by the virtualization platform.

More recently, operating-system-level virtualization allows the existence of multiple isolated user-space instances. Called \textit{containers}, these instances behave like real hosts for their users (applications running inside them). Similar to the standard \texttt{chroot}\footnote{Chroot mechanism, \url{en.wikipedia.org/wiki/Chroot}} mechanism, containers provide a completely isolated view of the operating environment, including processes trees, mounted file systems, users and networking. In contrast to other virtualization technologies, there is little to no overhead in starting or destroying a container. Isolated applications do not suffer slowdowns, since they are neither subjected to emulation, nor run in a virtual machine. Instead, programs use the operating system's normal system call interface.

Docker\footnote{Docker homepage, \url{docker.com}} is an open-source project that provides an additional layer of abstraction and automation of operating-system-level virtualization on Linux. ``Docker containers wrap a piece of software in a complete file system that contains everything needed to run: code, runtime, system tools, system libraries -- anything that can be installed on a server. This guarantees that the software will always run the same, regardless of its environment''.\footnote{What is Docker?, \url{docker.com/what-docker}} Containers isolate applications from one another and the underlying infrastructure, providing a lightweight environment that can be quickly instantiated or disposed of.

In the following sections, we are going to discuss available solutions in what regards the two use cases proposed in \labelindexref{Section}{sec:use-cases}: automated homework grader and online judge.


\section{Automated Homework Grader}
\label{sec:homework}

Despite the advantages of automated assignment grading in academic institutions, few universities have implemented such a system. Initial attempts included the TRY\footnote{Reek, K. A software infrastructure to support introductory computer science courses, 1996} system and the \textit{Scheme-Robo}\footnote{Saikkonen, R., Malmi L., \& Korhonen, A. (2001). Fully automatic assessment of programming exercises.} system implemented at the Helsinki University of Technology for automated assessment of exercises in the Scheme functional language \cite{cheang}. At the School of Computing of the National University of Singapore, a system called \textit{Online Judge} was successfully employed for several undergraduate courses, proving the effectiveness of programmatic grading \cite{cheang}. The most advanced of these systems, the \textit{Online Judge}, can be considered primitive given the current advancements in sandboxing technologies -- no more than basic \texttt{chroot} isolation was used and supported languages only included C, C++ and Java.

A modern approach to automated grading was proposed by Valentin Go»ôu\cite{gosu} at the Politehnica University of Bucharest in 2012. As of 2016, the system, called Vmchecker, is widely used at the Faculty of Computer Science. It offers support for deadlines, numerical scoring and textual feedback, submission persistence etc. Above all, its popularity arises from its flexibility -- Vmchecker allows teachers to define a fully customized testing environment by use of virtual machines. Unfortunately, the inherent performance penalty imposed by full virtualization is reflected in slow grading times and, implicitly, prolonged waiting queues for students. Another weak point is its unreliability -- the system has proved to be fragile in a number of circumstances.

Lxchecker attempts to learn from Vmchecker, preserving its flexibility and features while improving its efficiency and dependability. The former is enhanced by switching from virtual machines to Docker containers, while the latter is increased by using Go\footnote{The Go programming language, \url{golang.org}}, a strongly-typed programming language.

\section{Online Judge}
\label{sec:judge}

In the world of online judges for programming contests, many solutions exist. Most likely, the reason is the reduced complexity of this use case. Usually, a contest-level grading system takes in a singular source file, compiles the code and runs the executable with multiple inputs. Besides compilers and basic sandboxing, not much is needed. Examples of online judges include Spoj\footnote{Sphere online judge, \url{spoj.com}}, infoarena.ro\footnote{Infoarena, \url{infoarena.ro}} and HackerRank\footnote{HackerRank, \url{hackerrank.com}}.

Hiring tool remoteinterview.io\footnote{remoteinterview.io, \url{remoteinterview.io}} uses Docker images for packaging its various compiler setups. In addition to the simplified management of dependencies, Docker containers allow code submissions to execute in entirely separate environments, isolating users from one another and protecting the host against malicious attacks.

Lxchecker uses Docker to provide an extended online judge functionality by allowing arbitrary uploads and boundless flexibility in specifying test environments (networking, unrestricted file system, complex interaction with the process under test etc.).
